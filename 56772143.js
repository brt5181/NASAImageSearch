import{s as e,r as t,$ as i}from"./aa05e036.js";function s(e="#"){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}const n=(()=>{if(document.createElement("div").attachShadow({mode:"open"}).getSelection)return document.addEventListener("selectionchange",(e=>{document.dispatchEvent(new CustomEvent("-shadow-selectionchange"))})),()=>{};let e=!1;const t=[];return document.addEventListener("selectionchange",(i=>{e||(document.dispatchEvent(new CustomEvent("-shadow-selectionchange")),e=!0,window.setTimeout((()=>{e=!1}),0),t.forEach((e=>e(i))))})),e=>t.push(e)})();let r=!1,o=null;n((e=>{"Caret"===window.getSelection().type?r=!0:r&&!o&&(o=Promise.resolve(!0).then((()=>{r=!1,o=null})))})),document.createTextNode("");
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
const c=function(e){return class extends e{constructor(){super(),this.schemaResourceID="",this.schemaMap={prefix:{oer:"http://oerschema.org/",schema:"http://schema.org/",dc:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cc:"http://creativecommons.org/ns#",bib:"http://bib.schema.org"}}}static get properties(){return{...super.properties,schemaMap:{type:Object,readOnly:!0,observer:"_schemaMapChanged"},schemaResourceID:{type:String}}}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"schemaMap"==t&&this._schemaMapChanged(this[t],e)}))}_schemaMapChanged(e,t){if(void 0!==e){this.schemaResourceID=this.getAttribute("resource"),""!=this.schemaResourceID&&null!=this.schemaResourceID&&"null"!=this.schemaResourceID||(this.schemaResourceID=s(),this.setAttribute("resource",this.schemaResourceID));let t=e.prefix,n="";for(var i in t)t.hasOwnProperty(i)&&(n+=i+":"+t[i]+" ");""!=n&&this.setAttribute("prefix",n)}}}};class a{constructor(e="full"){let t={by:{name:"Attribution",link:"https://creativecommons.org/licenses/by/4.0/",image:"https://i.creativecommons.org/l/by/4.0/88x31.png"},"by-sa":{name:"Attribution Share a like",link:"https://creativecommons.org/licenses/by-sa/4.0/",image:"https://i.creativecommons.org/l/by-sa/4.0/88x31.png"},"by-nd":{name:"Attribution No derivatives",link:"https://creativecommons.org/licenses/by-nd/4.0/",image:"https://i.creativecommons.org/l/by-nd/4.0/88x31.png"},"by-nc":{name:"Attribution non-commercial",link:"https://creativecommons.org/licenses/by-nc/4.0/",image:"https://i.creativecommons.org/l/by-nc/4.0/88x31.png"},"by-nc-sa":{name:"Attribution non-commercial share a like",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/",image:"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"},"by-nc-nd":{name:"Attribution Non-commercial No derivatives",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/",image:"https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png"}};if("select"==e){var i={};for(var s in t)i[s]=t[s].name;return i}return t}}class l extends(c(e)){static get styles(){return[t`:host{display:block;font-size:16px;line-height:32px;--license-text-color:#222222;--license-background-color:#f2f2f2;background-color:var(--license-background-color)}:host:after{content:"License";position:relative;float:right;bottom:36px;right:8px;font-size:28px;color:#ddd;font-style:italic}.license-body{padding:32px;font-style:italic;background-color:var(--license-background-color);color:var(--license-text-color)}:host([display-method=footnote]){visibility:hidden;opacity:0}:host([display-method=popup]){display:block}.license-link{font-style:italic}.big-license-link img{margin-right:8px;margin-bottom:8px;width:88px;height:31px;vertical-align:middle}.work-title{font-weight:700}`]}render(){return i` <meta rel="cc:license" href="${this.licenseLink}" content="License: ${this.licenseName}"> <div class="license-body" xmlns:cc="${this.licenseLink}" xmlns:dc="http://purl.org/dc/elements/1.1/"> ${this.licenseImage?i` <a class="big-license-link" target="_blank" href="${this.licenseLink}" rel="noopener noreferrer"><img loading="lazy" alt="${this.licenseName} graphic" src="${this.licenseImage}"></a> `:""} <span class="work-title" rel="dc:type" href="http://purl.org/dc/dcmitype/Text" property="dc:title">${this.title}</span> by <a rel="cc:attributionURL" property="cc:attributionName" href="${this.source}">${this.creator}</a> is licensed under a <a class="license-link" target="_blank" href="${this.licenseLink}">${this.licenseName}</a>. <span rel="dc:source" href="${this.source}"></span> ${this.hasMore?i` <span>Permissions beyond the scope of this license are available <a rel="cc:morePermissions" target="_blank" href="${this.moreLink}" rel="noopener noreferrer">${this.moreLabel}</a>.</span> `:""} </div> `}static get tag(){return"license-element"}static get properties(){return{...super.properties,title:{type:String},creator:{type:String},source:{type:String},licenseName:{type:String,attribute:"license-name"},licenseImage:{type:String,attribute:"license-image"},licenseLink:{type:String,attribute:"license-link"},license:{type:String},moreLabel:{type:String,attribute:"more-label"},moreLink:{type:String,attribute:"more-link"},hasMore:{type:Boolean,attribute:"has-more"}}}constructor(){super(),this.licenseList=new a,this.moreLabel="on the licensing details page"}updated(e){e.forEach(((e,t)=>{"license"==t&&this._licenseUpdated(this[t]),"moreLink"==t&&(this.hasMode=this._computeHasMore(this.moreLink))}))}static get haxProperties(){return{canScale:!1,canPosition:!1,canEditSource:!0,gizmo:{title:"License",description:"Provide a license for you rwork",icon:"icons:copyright",color:"grey",groups:["Content","Copyright"],handles:[{type:"license",source:"source",title:"title",author:"creator",license:"license"}],meta:{author:"ELMS:LN"}},settings:{configure:[{property:"title",title:"Title",description:"The title of the work being cited.",inputMethod:"textfield",icon:"editor:title"},{property:"source",title:"Source link",description:"The source url for the element this is citing.",inputMethod:"textfield",icon:"link",validationType:"url"},{property:"license",title:"License",description:"The source url for the element this is citing.",inputMethod:"select",options:new a("select"),icon:"link"},{property:"creator",title:"Creator",description:"Who made or owns this.",inputMethod:"textfield",icon:"link"}],advanced:[{property:"moreLink",title:"Source link",description:"Link to additional licensing details",inputMethod:"textfield",validationType:"url"},{property:"moreLabel",title:"more label",description:"Label for more licensing details",inputMethod:"textfield"}]},demoSchema:[{tag:"license-element",properties:{title:"Wonderland",creator:"Mad Hatter",source:"https://haxtheweb.org/",license:"by"},content:""}]}}_computeHasMore(e){return void 0!==e&&""!==e}_licenseUpdated(e){void 0!==e&&void 0!==this.licenseList[e]&&(this.licenseName=this.licenseList[e].name,this.licenseLink=this.licenseList[e].link,this.licenseImage=this.licenseList[e].image)}}window.customElements.define(l.tag,l);class h extends(c(e)){static get styles(){return[t`:host{display:block;color:var(--license-text-color)}:host([display-method=footnote]){visibility:hidden;opacity:0}:host([display-method=popup]){display:block}.license-link{font-size:16px;line-height:16px;font-style:italic}.citation-date{font-size:16px;line-height:16px;font-style:italic}.license-link img{margin-right:8px}`]}render(){return i` <meta about="${this.relatedResource}" property="cc:attributionUrl" content="${this.source}"> <meta about="${this.relatedResource}" property="cc:attributionName" typeof="oer:Text" content="${this.title}"> <meta rel="cc:license" href="${this.licenseLink}" content="License: ${this.licenseName}"> <cite><a target="_blank" rel="noopener noreferrer" href="${this.source}">${this.title}</a> by ${this.creator}, licensed under <a class="license-link" rel="noopener noreferrer" target="_blank" href="${this.licenseLink}"><img loading="lazy" alt="${this.licenseName} graphic" src="${this.licenseImage}" ?hidden="${!this.licenseImage}" width="44px" height="16px">${this.licenseName}</a>. Accessed <span class="citation-date">${this.date}</span>.</cite> `}static get tag(){return"citation-element"}constructor(){super(),this.scope="sibling",this.source=""}updated(e){e.forEach(((e,t)=>{"scope"==t&&this._scopeChanged(this[t]),"license"==t&&this._licenseUpdated(this[t]),["relatedResource","licenseLink"].includes(t)&&(this._aboutLink=this._generateAboutLink(this.relatedResource,this.licenseLink)),"source"==t&&(this._licenseLink=this._generateLicenseLink(this.source))}))}static get properties(){return{...super.properties,title:{type:String},scope:{type:String},displayMethod:{type:String,reflect:!0,attribute:"display-method"},creator:{type:String},source:{type:String},date:{type:String},licenseName:{type:String,attribute:"license-name"},licenseLink:{type:String,attribute:"license-link"},license:{type:String}}}_generateLicenseLink(e){this._licenseLink&&document.head.removeChild(this._licenseLink);let t=document.createElement("link");return t.setAttribute("typeof","resource"),t.setAttribute("rel","license"),t.setAttribute("src",e),document.head.appendChild(t),t}_generateAboutLink(e,t){this._aboutLink&&document.head.removeChild(this._aboutLink);let i=document.createElement("link");return i.setAttribute("about",e),i.setAttribute("property","cc:license"),i.setAttribute("content",t),document.head.appendChild(i),i}_scopeChanged(e){if("sibling"===e&&null!==this.previousElementSibling){if(this.previousElementSibling.getAttribute("resource"))this.relatedResource=this.previousElementSibling.getAttribute("resource");else{let e=s();this.relatedResource=e,this.previousElementSibling.setAttribute("resource",e)}this.previousElementSibling.setAttribute("prefix",this.getAttribute("prefix"))}else if("parent"===e){if(this.parentNode.getAttribute("resource"))this.relatedResource=this.parentNode.getAttribute("resource");else{let e=s();this.relatedResource=e,this.parentNode.setAttribute("resource",e)}this.parentNode.setAttribute("prefix",this.getAttribute("prefix"))}}static get haxProperties(){return new URL(`./lib/${this.tag}.haxProperties.json`,import.meta.url).href}_licenseUpdated(e){if(void 0!==e){var t=new a;void 0!==t[e]&&(this.licenseName=t[e].name,this.licenseLink=t[e].link,this.licenseImage=t[e].image)}}}window.customElements.define(h.tag,h);export{h as CitationElement};
